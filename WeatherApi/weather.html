<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Weather API</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css" integrity="sha512-DTOQO9RWCH3ppGqcWaEA1BIZOC6xxalwEsw9c2QQeAIftl+Vegovlnee1c9QX4TctnWMn13TZye+giMm8e2LwA==" crossorigin="anonymous" referrerpolicy="no-referrer" />
    <link rel="stylesheet" href="style.css">
</head>
<body>



    <div id="main">
        <div id="inner">
            <fieldset>
                <div id="box">
                    <input type="text" placeholder="Enter City Name" name="" id="ip">
                    <button onclick="get()" type="button">Search</button>
                </div>
                <div id="box2">
                    <div id="b">
                        <h2 id="Weather">WEATHER</h2>
                        <p>You can search city name and know the weather</p>
                    </div>
                </div>                
            </fieldset>
        </div>
    </div>
    

    <script>

        get=()=>
        {
            let ip=document.getElementById('ip').value;
            let url=`http://api.weatherapi.com/v1/current.json?key=2a55a1a3a96441d1a9652456230712&q=${ip}`;
            fetch(url)
            .then(response=>response.json())
            .then(data=>{
                console.log(data);
                document.getElementById('h').innerHTML=data.location.name;
                document.getElementById('w').innerHTML=data.current.last_updated;
                document.getElementById('c').innerHTML=('<i class="fa-solid fa-temperature-three-quarters"></i> '+data.current.temp_c);
                document.getElementById('im').src=data.current.condition.icon;
                document.getElementById('t').innerHTML=data.current.condition.text;
                document.getElementById('m').innerHTML=('<i class="fa-solid fa-droplet"></i> '+data.current.humidity);
            });

            let d=new XMLHttpRequest;
            d.onreadystatechange=function(responseText)
            {
                if(this.readyState==4 && this.status==200)
                {
                    document.querySelector('#box2').innerHTML=d.responseText;
                }
            }
            d.open('GET',"data.html",true);
            d.send();
        }


           
    </script>

</body>
</html>